jQuery((function(n){({init:function(){var o=this;n(document.body).find("#billing_postcode").val()&&!n(document.body).find("#billing_address_1").val()&&this.autofill("billing"),n(document.body).find("#shipping_postcode").val()&&!n(document.body).find("#shipping_address_1").val()&&this.autofill("shipping"),n(document.body).find("#billing_postcode").on("keyup",(function(n){return o.autofill("billing")})),n(document.body).find("#shipping_postcode").on("keyup",(function(n){return o.autofill("shipping")}))},block:function(){n("form.checkout").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){n("form.checkout").unblock()},autofill:function(o,i){var l=this;i=i||!1;var t=n("#"+o+"_country").val();if(!n("#"+o+"_country").length||"BR"===t){var c=n("#"+o+"_postcode"),e=c.val().replace(/\D/g,"");e&&8===e.length&&(c.blur(),this.block(),n.ajax({type:"GET",url:"https://viacep.com.br/ws/".concat(e,"/json/"),dataType:"json",contentType:"application/json",success:function(n){if(n.uf&&(l.fillFields(o,n),i)){var t="billing"===o?"shipping":"billing";l.fillFields(t,n)}},error:function(n){console.log(n)},complete:function(){l.unblock()}}))}},fillFields:function(o,i){n("#"+o+"_address_1").val(i.logradouro).change(),n("#"+o+"_neighborhood").length?n("#"+o+"_neighborhood").val(i.bairro).change():n("#"+o+"_address_2").val(i.bairro).change(),n("#"+o+"_city").val(i.localidade).change(),n("#"+o+"_state").val(i.uf).trigger("change").change()}}).init()}));