{
    "schemaVersion": 2,
    "dockerfileLines": [
        "FROM wordpress:latest",
        "RUN apt-get update && apt-get install -y git",
        "ARG GIT_PAT",
        "RUN git clone https://${GIT_PAT}@github.com/fluxomta/assine.git /tmp/assine",
        "RUN mkdir -p /var/www/html/wp-content",
        "RUN [ ! -d /var/www/html/wp-content/plugins ] || [ -z \"$(ls -A /var/www/html/wp-content/plugins)\" ] && cp -r /tmp/assine/wp-content/plugins /var/www/html/wp-content/plugins || echo 'Plugins already present, skipping copy'",
        "RUN [ ! -d /var/www/html/wp-content/themes ] || [ -z \"$(ls -A /var/www/html/wp-content/themes)\" ] && cp -r /tmp/assine/wp-content/themes /var/www/html/wp-content/themes || echo 'Themes already present, skipping copy'",
        "RUN rm -rf /tmp/assine",
        "RUN chown -R www-data:www-data /var/www/html/wp-content"
    ],
    "containerHttpPort": 80,
    "notExposeAsWebApp": false,
    "network": "captain-overlay-network",
    "volumes": [],
    "restartPolicy": {
        "condition": "any"
    }
}